/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * user guide available at https://docs.gradle.org/4.2.1/userguide/java_library_plugin.html
 */

// Apply the java-library plugin to add support for Java Library
// apply plugin: 'java-library'
// apply plugin: 'eclipse-wtp'
apply plugin: 'java'
//apply plugin: 'application'
//apply plugin: 'war'
//使用gretty插件来运行服务
buildscript { 
    repositories { 
        jcenter() 
    } 
    dependencies { 
        classpath 'org.akhikhl.gretty:gretty:+' 
    } 
} 
apply plugin: 'org.akhikhl.gretty'

sourceCompatibility = 1.7   // 设置 JDK 版本
compileJava.options.encoding = 'UTF-8'  //设置字符集
version = '1.0'  //设置版本

repositories {
    jcenter()
}

dependencies {
    compile (
	    'org.springframework:spring-webmvc:4.1.2.RELEASE',
	    'javax.servlet:javax.servlet-api:3.1.0',
	    'com.alibaba:fastjson:1.2.39',
	    'org.slf4j:slf4j-api:1.7.25',
	    'org.slf4j:slf4j-log4j12:1.7.25',
	    'org.aspectj:aspectjweaver:1.8.10',
	    'com.fasterxml.jackson.core:jackson-databind:2.8.8',
	    'org.apache.httpcomponents:httpmime:4.5.2'
    )
    
}

jar {
    from { 
        //添加依懒到打包文件 
        //configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
        configurations.runtime.collect{zipTree(it)} 
    } 
    manifest { 
        attributes 'Main-Class': 'com.ahao.mygradle.appmain.AppMain '
    } 
}
